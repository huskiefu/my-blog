(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),l=a.n(c),o=a(2),s=a.n(o),u=a(3),i=a(14),m=(a(70),a(21)),p=a(1),E=(a(95),a(54),a(140)),h=a(134),d=function(e){var t=e.posts;return r.a.createElement("div",{className:"home-container"},t.map(function(e){return r.a.createElement(E.a,{className:"postcard"},r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Title,{className:"title"},e.title),r.a.createElement(E.a.Text,{className:"content"},e.content.substring(0,400)+"..."),r.a.createElement(h.a,{variant:"primary",as:m.b,to:"https://nameless-hollows-00237.herokuapp.com//posts/".concat(e._id)},"Read More")))}))},b=a(138),f=(a(99),function(e){var t=e.submitPost,a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),p=u[0],E=u[1];return r.a.createElement("div",{className:"input-container"},r.a.createElement("h1",null,"Compose"),r.a.createElement(b.a,null,r.a.createElement(b.a.Group,{className:"mb-3",controlId:"formBasicEmail"},r.a.createElement(b.a.Label,null,"Title"),r.a.createElement("input",{type:"text",value:l,className:"title-input",onChange:function(e){o(e.target.value)}})),r.a.createElement(b.a.Group,{className:"mb-3",controlId:"formBasicPassword"},r.a.createElement(b.a.Label,null,"Content"),r.a.createElement("textarea",{type:"text",value:p,rows:5,className:"content-input",onChange:function(e){E(e.target.value)}})),r.a.createElement(h.a,{variant:"primary",onClick:function(){return t(l,p)},as:m.b,to:"https://nameless-hollows-00237.herokuapp.com/"},"Submit")))}),O=a(137),v=a(139),g=a(81),w=(a(103),g.a.initializeApp({apiKey:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_FIREBASE_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_FIREBASE_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_FIREBASE_APP_ID})),j=w.auth(),_=r.a.createContext();function N(){return Object(n.useContext)(_)}function y(e){var t=e.children,a=Object(n.useState)(),c=Object(i.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(!0),u=Object(i.a)(s,2),m=u[0],p=u[1];Object(n.useEffect)(function(){return j.onAuthStateChanged(function(e){o(e),p(!1)})},[]);var E={currentUser:l,login:function(e,t){return j.signInWithEmailAndPassword(e,t)},signup:function(e,t){return j.createUserWithEmailAndPassword(e,t)},logout:function(){return j.signOut()}};return r.a.createElement(_.Provider,{value:E},!m&&t)}var P=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=N(),o=l.currentUser,E=l.logout,h=Object(p.h)();function d(){return(d=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(""),e.prev=1,e.next=4,E();case 4:h("/login"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),c("Failed to Logout"),console.log(a);case 11:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}return r.a.createElement(O.a,{bg:"dark",variant:"dark"},r.a.createElement(O.a.Brand,{href:"#home",className:"navbar-brand"},"My Blog"),r.a.createElement(v.a,{className:"me-auto"},r.a.createElement(v.a.Link,{as:m.b,to:"https://nameless-hollows-00237.herokuapp.com/"},"Home"),r.a.createElement(v.a.Link,{as:m.b,to:"https://nameless-hollows-00237.herokuapp.com//compose"},"Compose"),o&&r.a.createElement(v.a.Link,{onClick:function(){return d.apply(this,arguments)},style:{position:"absolute",right:"2rem"}},"Logout")))},x=a(50),k=a.n(x),A=(a(124),function(){var e=Object(p.i)().id,t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1];function o(){return(o=Object(u.a)(s.a.mark(function e(t){var a,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://nameless-hollows-00237.herokuapp.com/posts/"+t,e.next=3,k.a.get(a);case 3:n=e.sent,r=n.data,l(r);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){l(function(e){return o.apply(this,arguments)}(e))},[]),r.a.createElement("div",{className:"home-container"},r.a.createElement(E.a,{className:"postcard"},r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Title,{className:"title"},c.title),r.a.createElement(E.a.Text,{className:"content"},c.content),r.a.createElement(h.a,{className:"home-button",variant:"primary",as:m.b,to:"https://nameless-hollows-00237.herokuapp.com/"},"Back To Home"),r.a.createElement(h.a,{variant:"danger",onClick:function(){return function(e){var t="https://nameless-hollows-00237.herokuapp.com//"+e;k.a.delete(t).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}(e)},as:m.b,to:"https://nameless-hollows-00237.herokuapp.com/"},"Delete"))))}),C=a(135),I=a(136),L=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),c=N().signup,l=Object(n.useState)(""),o=Object(i.a)(l,2),d=o[0],f=o[1],O=Object(n.useState)(!1),v=Object(i.a)(O,2),g=v[0],w=v[1],j=Object(p.h)();function _(){return(_=Object(u.a)(s.a.mark(function n(r){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),t.current.value===a.current.value){n.next=3;break}return n.abrupt("return",f("Passwords do not match"));case 3:return n.prev=3,f(""),w(!0),n.next=8,c(e.current.value,t.current.value);case 8:j("/"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),f("Failed to create a new account");case 14:w(!1);case 15:case"end":return n.stop()}},n,null,[[3,11]])}))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"}},r.a.createElement("div",{className:"w-100",style:{maxWidth:"400px"}},r.a.createElement(E.a,null,r.a.createElement(E.a.Body,null,r.a.createElement("h2",{className:"text-cetner mb-4"},"Sign Up"),d&&r.a.createElement(I.a,{variant:"danger"},d),r.a.createElement(b.a,{onSubmit:function(e){return _.apply(this,arguments)}},r.a.createElement(b.a.Group,{id:"email"},r.a.createElement(b.a.Label,null,"Email"),r.a.createElement(b.a.Control,{type:"email",ref:e,required:!0})),r.a.createElement(b.a.Group,{id:"password"},r.a.createElement(b.a.Label,null,"Password"),r.a.createElement(b.a.Control,{type:"password",ref:t,required:!0})),r.a.createElement(b.a.Group,{id:"paswword-confirm"},r.a.createElement(b.a.Label,null,"Confirm Password"),r.a.createElement(b.a.Control,{type:"password",ref:a,required:!0})),r.a.createElement(h.a,{disabled:g,type:"submit",className:"w-100",style:{marginTop:"1rem"}},"Sign Up")))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Already have an account? ",r.a.createElement(m.b,{to:"https://nameless-hollows-00237.herokuapp.com//login"},"Log In")))))},R=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=N().login,c=Object(n.useState)(""),l=Object(i.a)(c,2),o=l[0],d=l[1],f=Object(n.useState)(!1),O=Object(i.a)(f,2),v=O[0],g=O[1],w=Object(p.h)();function j(){return(j=Object(u.a)(s.a.mark(function n(r){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.prev=1,d(""),g(!0),n.next=6,a(e.current.value,t.current.value);case 6:w("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),d("Failed to Login");case 12:g(!1);case 13:case"end":return n.stop()}},n,null,[[1,9]])}))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"}},r.a.createElement("div",{className:"w-100",style:{maxWidth:"400px"}},r.a.createElement(E.a,null,r.a.createElement(E.a.Body,null,r.a.createElement("h2",{className:"text-cetner mb-4"},"Login In"),o&&r.a.createElement(I.a,{variant:"danger"},o),r.a.createElement(b.a,{onSubmit:function(e){return j.apply(this,arguments)}},r.a.createElement(b.a.Group,{id:"email"},r.a.createElement(b.a.Label,null,"Email"),r.a.createElement(b.a.Control,{type:"email",ref:e,required:!0})),r.a.createElement(b.a.Group,{id:"password"},r.a.createElement(b.a.Label,null,"Password"),r.a.createElement(b.a.Control,{type:"password",ref:t,required:!0})),r.a.createElement(h.a,{disabled:v,type:"submit",className:"w-100",style:{marginTop:"1rem"}},"Login")))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Don't have an account? ",r.a.createElement(m.b,{to:"https://nameless-hollows-00237.herokuapp.com//signup"},"Sign Up")))))};function S(){return N().currentUser?r.a.createElement(p.b,null):r.a.createElement(p.a,{to:"/login"})}var U=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];function l(){return o.apply(this,arguments)}function o(){return(o=Object(u.a)(s.a.mark(function e(){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("http://localhost:5000");case 2:t=e.sent,a=t.data,c(a);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){l()},[a]),r.a.createElement(m.a,null,r.a.createElement(y,null,r.a.createElement(P,null),r.a.createElement(p.e,null,r.a.createElement(p.c,{exact:!0,path:"https://nameless-hollows-00237.herokuapp.com/signup",element:r.a.createElement(L,null)}),r.a.createElement(p.c,{exact:!0,path:"https://nameless-hollows-00237.herokuapp.com/login",element:r.a.createElement(R,null)}),r.a.createElement(p.c,{element:r.a.createElement(S,null)},r.a.createElement(p.c,{exact:!0,path:"https://nameless-hollows-00237.herokuapp.com/",element:r.a.createElement(d,{posts:a})}),r.a.createElement(p.c,{exact:!0,path:"https://nameless-hollows-00237.herokuapp.com/compose",element:r.a.createElement(f,{submitPost:function(e,t){k.a.post("http://localhost:5000",{title:e,content:t}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}})}),r.a.createElement(p.c,{exact:!0,path:"https://nameless-hollows-00237.herokuapp.com/posts/:id",element:r.a.createElement(A,{retrievePosts:l})})))))},B=a(84),T=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_AUTH0_DOMAIN,D=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_AUTH0_CLIENT_ID;l.a.render(r.a.createElement(B.a,{domain:T,clientId:D,redirectUri:window.location.origin},r.a.createElement(U,null)),document.getElementById("root"))},70:function(e,t,a){},87:function(e,t,a){e.exports=a(132)},95:function(e,t,a){},99:function(e,t,a){}},[[87,2,1]]]);
//# sourceMappingURL=main.5a35152e.chunk.js.map